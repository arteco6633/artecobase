# Решение проблемы 500 ошибки

## Что произошло

Функция задеплоилась, но падает с ошибкой 500. 

## Причины

Скорее всего проблема в:
1. **Puppeteer/Chromium** - требует специальной настройки на Vercel
2. **Импорты TypeScript** - могут не работать правильно
3. **Переменные окружения** - отсутствуют или неправильные

## Временное решение

Я создал упрощенную версию функции (`api/sync-availability.js`) которая:
- Проверяет подключение к Supabase
- Возвращает тестовый ответ
- Помогает диагностировать проблему

## Что делать дальше

### Вариант 1: Проверить логи

1. Vercel Dashboard → Deployments → последний деплой
2. Functions → api/sync-availability
3. Посмотрите логи - там будет точная ошибка

### Вариант 2: Упростить функцию

Для начала можно убрать Puppeteer и использовать простой подход:
- API запрос (если работает с авторизацией)
- Или другой способ парсинга

### Вариант 3: Настроить Puppeteer правильно

Для работы Puppeteer на Vercel нужно:
- Правильно настроить @sparticuz/chromium
- Увеличить лимит времени выполнения
- Возможно использовать другой подход

## Рекомендация

Сначала проверить логи, чтобы понять точную ошибку.
Затем решить - нужен ли Puppeteer или можно обойтись без него.
